<section class="section-overview">
  <div class="content">
    <div class="title-content">
      <button class="img stars" (click)="toggleFavorite()" [ngClass]="{'favorite': (user | async)?.favorites.includes((current | async)?._id) }"></button>
      <h1>{{ (current | async)?.name }}</h1>
    </div>
    <form>
      <div class="control-select">
        <form [formGroup]="formVersion">
          <select name="version" formControlName="version">
            <option *ngFor="let version of (current | async)?.versions" value="{{version.name}}" [selected]="version.name == (current | async)?.version">{{ version.name }}</option>
          </select>
        </form>
      </div>
    </form>
  </div>
</section>

<section class="section-iframe">
  <div class="content">
    <div #overviewUnique class="overview-unique">
      <div class="container-iframe-unique">
        <iframe #iframe width="" height="" class="responsive-frame responsive-frame-unique" allowfullscreen frameborder="0"></iframe>
      </div>
    </div>
  </div>
</section>

<section class="section-responsive">
  <div class="content">
    <div class="button-responsive">
      <button *ngFor="let breakpoint of (current | async)?.responsiveness" class="button-breakpoint" (click)="changeDevice(breakpoint)"><img src="assets/ico-{{breakpoint.name}}-3.png" alt=""></button>      
      <button type="button" name="button" (click)="changeOriantation()" class="button-oriantation"><img src="assets/ico-oriantation-3.png" alt=""></button>
      <input class="range-scale" type="range" #rangeScale min="0.01" max="1" step="0.01" (change)="changeScaleIframe(rangeScale.value)">
      <input class="text-scale" type="text" #textScale (change)="changeScaleIframe(textScale.value)">
    </div>
  </div>
</section>

<section class="section-action">
  <div class="content">
    <div class="buttons-container">
      <a href="{{cdnUrl}}/stylesheet/{{(current | async)?.cdn}}?name={{(current | async)?.name}}" download="{{(current | async)?.name}}.css" class="button-action">
        <p>css</p>
      </a>
      <a href="{{cdnUrl}}/overview/dom/{{(current | async)?.cdn}}?name={{(current | async)?.name}}" download="{{(current | async)?.name}}.html" class="button-action">
        <p>html</p>
      </a>
<!--       <a href="/assets/download-tertiary.svg" download class="button-action">
        <p>javascript</p>
      </a> -->
    </div>
  </div>
</section>

<section class="section-classes">
  <div class="content">
    <div class="carousel">
      <label for="toggle-class-state" [ngClass]="{'carousel-empty': classes.length == 0}">{{ classes.length == 0 ? 'No c' : 'C'}}lasses</label>
      <input class="input-state" type="checkbox" id="toggle-class-state">
      <div class="carousel-body">
        <div class="carousel-item" *ngFor="let class of classes">
          <input type="checkbox" class="switch-class" checked (click)="toggleClass(class)"/>
          <p>{{ class.name }}</p>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section-variable">
  <div class="content">
    <div class="carousel">
      <label for="toggle-variable-state" [ngClass]="{'carousel-empty': variables.length == 0}">{{ variables.length == 0 ? 'No v' : 'V'}}ariables</label>
      <input class="input-state" type="checkbox" id="toggle-variable-state">
      <div class="carousel-body">
        <div class="carousel-item" *ngFor="let variable of variables">
          <p>{{ variable.name }}</p>
          <input #inputVariable type="text" [value]="variable.value">
          <button type="button" (click)="changeVariableValue(variable, inputVariable.value)">OK</button>
        </div>
      </div>
    </div>
  </div>
</section>


<section class="section-dom">
  <div class="content">
    <div class="carousel">
      <label for="toggle-dom-state">
        Reference DOM
        <button type="button" id="dom-copy" (click)="copyToClipboard(domCode)">
          <img src="assets/clipboard.svg" alt="copy to clipboard">
        </button>
        <div class="confirmation">DOM copied</div>
      </label>
      <input class="input-state" type="checkbox" id="toggle-dom-state" checked>
      <div class="carousel-body">
        <div class="code-container" #domCode>
          <code>
            <instruction *ngFor="let line of domToInstructions((current | async)?.dom?.value)" [config]="line"></instruction>
          </code>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section-contributor">
  <div class="content">
    <div class="carousel">
      <label for="toggle-contributor-state" [ngClass]="{'carousel-empty': (current | async)?.contributors.length == 0}">{{ (current | async)?.contributors.length == 0 ? 'No c' : 'C'}}ontributor</label>
      <input class="input-state" type="checkbox" id="toggle-contributor-state">
      <div class="carousel-body">
        <div class="carousel-item" *ngFor="let contributor of (current | async)?.contributors">
          <a routerLink="/user/{{ contributor.login }}">{{ contributor.login }}</a>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section-info">
  <div class="content">
    <div class="carousel">
      <label for="toggle-info-state">Infos</label>
      <input class="input-state" type="checkbox" id="toggle-info-state">
      <div class="carousel-body">
        <div class="carousel-item">
          <p><span>Download</span>{{ (current | async)?.downloadTotal }}</p>
          <p><span>Type</span>{{ (current | async)?.type }}</p>
          <p><span>Style</span>{{ (current | async)?.style }}</p>
          <p><span>Category</span>{{ (current | async)?.category }}</p>
        </div>
      </div>
    </div>
  </div>
</section>
